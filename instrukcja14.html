<!DOCTYPE html>
<!-- saved from url=(0082)http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Lab 14 - Qt - sygnaly i sloty</title>
  <style>
    code {
      white-space: pre-wrap;
    }

    span.smallcaps {
      font-variant: small-caps;
    }

    span.underline {
      text-decoration: underline;
    }

    div.column {
      display: inline-block;
      vertical-align: top;
      width: 50%;
    }

    div.hanging-indent {
      margin-left: 1.5em;
      text-indent: -1.5em;
    }

    ul.task-list {
      list-style: none;
    }

    pre>code.sourceCode {
      white-space: pre;
      position: relative;
    }

    pre>code.sourceCode>span {
      display: inline-block;
      line-height: 1.25;
    }

    pre>code.sourceCode>span:empty {
      height: 1.2em;
    }

    .sourceCode {
      overflow: visible;
    }

    code.sourceCode>span {
      color: inherit;
      text-decoration: inherit;
    }

    div.sourceCode {
      margin: 1em 0;
    }

    pre.sourceCode {
      margin: 0;
    }

    @media screen {
      div.sourceCode {
        overflow: auto;
      }
    }

    @media print {
      pre>code.sourceCode {
        white-space: pre-wrap;
      }

      pre>code.sourceCode>span {
        text-indent: -5em;
        padding-left: 5em;
      }
    }

    pre.numberSource code {
      counter-reset: source-line 0;
    }

    pre.numberSource code>span {
      position: relative;
      left: -4em;
      counter-increment: source-line;
    }

    pre.numberSource code>span>a:first-child::before {
      content: counter(source-line);
      position: relative;
      left: -1em;
      text-align: right;
      vertical-align: baseline;
      border: none;
      display: inline-block;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      padding: 0 4px;
      width: 4em;
      color: #aaaaaa;
    }

    pre.numberSource {
      margin-left: 3em;
      border-left: 1px solid #aaaaaa;
      padding-left: 4px;
    }

    div.sourceCode {}

    @media screen {
      pre>code.sourceCode>span>a:first-child::before {
        text-decoration: underline;
      }
    }

    code span.al {
      color: #ff0000;
      font-weight: bold;
    }

    /* Alert */
    code span.an {
      color: #60a0b0;
      font-weight: bold;
      font-style: italic;
    }

    /* Annotation */
    code span.at {
      color: #7d9029;
    }

    /* Attribute */
    code span.bn {
      color: #40a070;
    }

    /* BaseN */
    code span.bu {}

    /* BuiltIn */
    code span.cf {
      color: #007020;
      font-weight: bold;
    }

    /* ControlFlow */
    code span.ch {
      color: #4070a0;
    }

    /* Char */
    code span.cn {
      color: #880000;
    }

    /* Constant */
    code span.co {
      color: #60a0b0;
      font-style: italic;
    }

    /* Comment */
    code span.cv {
      color: #60a0b0;
      font-weight: bold;
      font-style: italic;
    }

    /* CommentVar */
    code span.do {
      color: #ba2121;
      font-style: italic;
    }

    /* Documentation */
    code span.dt {
      color: #902000;
    }

    /* DataType */
    code span.dv {
      color: #40a070;
    }

    /* DecVal */
    code span.er {
      color: #ff0000;
      font-weight: bold;
    }

    /* Error */
    code span.ex {}

    /* Extension */
    code span.fl {
      color: #40a070;
    }

    /* Float */
    code span.fu {
      color: #06287e;
    }

    /* Function */
    code span.im {}

    /* Import */
    code span.in {
      color: #60a0b0;
      font-weight: bold;
      font-style: italic;
    }

    /* Information */
    code span.kw {
      color: #007020;
      font-weight: bold;
    }

    /* Keyword */
    code span.op {
      color: #666666;
    }

    /* Operator */
    code span.ot {
      color: #007020;
    }

    /* Other */
    code span.pp {
      color: #bc7a00;
    }

    /* Preprocessor */
    code span.sc {
      color: #4070a0;
    }

    /* SpecialChar */
    code span.ss {
      color: #bb6688;
    }

    /* SpecialString */
    code span.st {
      color: #4070a0;
    }

    /* String */
    code span.va {
      color: #19177c;
    }

    /* Variable */
    code span.vs {
      color: #4070a0;
    }

    /* VerbatimString */
    code span.wa {
      color: #60a0b0;
      font-weight: bold;
      font-style: italic;
    }

    /* Warning */
  </style>
  <link rel="stylesheet" href="css/github-markdown.css">
  <link rel="stylesheet" href="css/custom.css">
  <link rel="stylesheet" href="css/rubynaxela-darkmode.css">
  <script type="text/javascript" src="js/rubynaxela-navbar.js"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link rel="icon" type="image/x-icon" href="http://jug.put.poznan.pl/lab-psio/_static/favicon.ico">
</head>

<body>
  <main class="markdown-body">
    <header id="title-block-header">
      <h1 class="title">Lab 14 - Qt - sygnaly i sloty</h1>
    </header>
    <h1 id="lab-14---qt---sygnaÅ‚y-i-sloty">Lab 14 - Qt - sygnaÅ‚y i sloty</h1>
    <h2 id="sygnaÅ‚y-i-sloty">SygnaÅ‚y i sloty</h2>
    <h3 id="podstawy">Podstawy</h3>
    <p>Qt implementuje mechanizm sygnaÅ‚Ã³w i slotÃ³w. Jest to narzÄ™dzie pozwalajÄ…ce na zarzÄ…dzanie asynchronicznymi
      (wystÄ™pujÄ…cymi w losowych momentach bez blokujÄ…cego wykonywanie kodu oczekiwania na nie) zdarzeniami pochodzÄ…cymi
      zarÃ³wno z programu, jak i od uÅ¼ytkownika lub systemu operacyjnego. Wykorzystanie sygnaÅ‚Ã³w (ang. signals) i slotÃ³w
      (ang. slots) jest bardzo proste. KaÅ¼dy klasa w Qt moÅ¼e implementowaÄ‡ sygnaÅ‚y, czyli funkcje emitujÄ…ce jakieÅ›
      zdarzenie. RÃ³wnoczeÅ›nie kaÅ¼da klasa moÅ¼e implementowaÄ‡ sloty, czyli funkcje przechwytujÄ…ce i przetwarzajÄ…ce
      powyÅ¼sze sygnaÅ‚y. Na przykÅ‚ad klasa <code>QPushButton</code> posiada sygnaÅ‚ <code>clicked()</code>, ktÃ³ry jest
      emitowany w momencie wciÅ›niÄ™cia przez uÅ¼ytkownika przycisku.</p>
    <p>ChcÄ…c obsÅ‚uÅ¼yÄ‡ zdarzenie od przycisku, w klasie gÅ‚Ã³wnego okna musimy przygotowaÄ‡ odpowiedni slot. W tym celu w
      deklaracji klasy umieszczamy dyrektywÄ™ <code>slots:</code> z modyfikatorem dostÄ™pu (w tym przypadku
      <code>private</code>), a zaraz pod niÄ… deklaracjÄ™ funkcji ktÃ³ra bÄ™dzie obsÅ‚ugiwaÄ‡ dane zdarzenie:
    </p>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> MainWindow : <span class="kw">public</span> <span class="ex">QMainWindow</span> {</span>
<span id="cb1-2"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb1-3" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb1-4"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="kw">private</span> <span class="ex">slots</span>:</span>
<span id="cb1-6"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> my_button_slot();</span>
<span id="cb1-7"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb1-7" aria-hidden="true" tabindex="-1"></a>};</span></code></pre>
    </div>
    <p>NastÄ™pnie w pliku <code>.cpp</code> definiujemy naszÄ… funkcjÄ™ obsÅ‚ugujÄ…cÄ… zdarzenie:</p>
    <div class="sourceCode" id="cb2">
      <pre
        class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb2-1"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> MainWindow::my_button_slot()</span>
<span id="cb2-2"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb2-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb2-3"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb2-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre>
    </div>
    <hr>
    <h4 id="-zadanie-">ğŸ› ğŸ”¥ Zadanie ğŸ› ğŸ”¥</h4>
    <ul>
      <li>UtwÃ³rz nowy projekt <em>Qt Widgets Application</em></li>
      <li>KorzystajÄ…c z Qt Designer umieÅ›Ä‡ w oknie jeden element typu <code>QPushButton</code> i <code>QLabel</code>,
        dla zachowania kompatybilnoÅ›ci z dalszymi przykÅ‚Ä…dami nie zmieniaj ich <code>objectName</code>. PrzykÅ‚adowy
        wyglÄ…d okna:</li>
    </ul>
    <p><img class="black-and-white" src="img/01_widow_layout.PNG" alt="01_widow_layout"></p>
    <ul>
      <li>W plikach <code>mainwindow.cpp</code> i <code>mainwindow.h</code> przygotuj slot do obsÅ‚ugi przycisku zgodnie
        z instrukcjami opisanymi powyÅ¼ej.</li>
    </ul>
    <hr>
    <p><strong>Uwaga:</strong> Na poprzednich zajÄ™ciach moÅ¼na byÅ‚o zauwaÅ¼yÄ‡, Å¼e Qt Creator potrafi sam generowaÄ‡ wyÅ¼ej
      opisany kod dla kontrolek umieszczonych na formie - zazwyczaj warto korzystaÄ‡ z tej funkcji, jednak dla
      demonstracji mechanizmu slotÃ³w celowo jÄ… pomijamy.</p>
    <h3 id="Å‚Ä…czenie-sygnaÅ‚Ã³w-do-slotÃ³w">ÅÄ…czenie sygnaÅ‚Ã³w do slotÃ³w</h3>
    <p>SygnaÅ‚y i sloty naleÅ¼y ze sobÄ… poÅ‚Ä…czyÄ‡ za pomocÄ… dedykowanej funkcji <code>connect(...)</code>. ÅÄ…czy ona dwa
      obiekty: wysyÅ‚ajÄ…cy (sygnaÅ‚) i odbierajÄ…cy (slot). <code>connect</code> musi byÄ‡ wywoÅ‚ana tylko raz. WywoÅ‚anie to
      moÅ¼na umieÅ›ciÄ‡ np. w konstruktorze klasy. Aby poÅ‚Ä…czyÄ‡ zdarzenie wciÅ›niÄ™cia przycisku z naszym przygotowanym
      slotem naleÅ¼y na przykÅ‚ad w konstruktorze klasy <code>MainWindow</code> wykonaÄ‡:</p>
    <div class="sourceCode" id="cb3">
      <pre
        class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb3-1"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb3-1" aria-hidden="true" tabindex="-1"></a>MainWindow::MainWindow(<span class="ex">QWidget</span> *parent): <span class="ex">QMainWindow</span>(parent), ui(<span class="kw">new</span> Ui::MainWindow)</span>
<span id="cb3-2"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb3-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb3-3"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb3-3" aria-hidden="true" tabindex="-1"></a>    ui-&gt;setupUi(<span class="kw">this</span>);</span>
<span id="cb3-4"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">connect</span>(ui-&gt;pushButton, &amp;<span class="ex">QPushButton::</span>clicked, <span class="kw">this</span>, &amp;MainWindow::my_button_slot);</span>
<span id="cb3-6"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb3-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre>
    </div>
    <p>Funkcja <code>connect</code> w tym przypadku przyjmuje nastÄ™pujÄ…ce argumenty:</p>
    <ul>
      <li>wskaÅºnik na obiekt wysyÅ‚ajÄ…cy sygnaÅ‚,</li>
      <li>wskaÅºnik na prototyp funkcji, ktÃ³ra stanowi sygnaÅ‚,</li>
      <li>wskaÅºnik na obiekt odbierajÄ…cy sygnaÅ‚,</li>
      <li>wskaÅºnik na prototyp funkcji, ktÃ³ra stanowi slot.</li>
    </ul>
    <p><strong>Uwaga:</strong> jeÅ›li na formie umieÅ›cimy przycisk nazywajÄ…cy siÄ™ <code>pushButton</code> (domyÅ›lna
      nazwa) oraz do klasy okna zawierajÄ…cego przycisk dodamy slot o nazwie <code>on_pushButton_clicked</code> to Qt
      niejawnie (bez wykorzystania w kodzie funkcji <code>connect</code>) podÅ‚Ä…czy sygnaÅ‚ <code>clicked</code> do tego
      slotu. Aby uniknÄ…Ä‡ tego zachowania (jedynie dla demonstracji) w powyÅ¼szych przykÅ‚adach slot nazywa siÄ™
      <code>my_button_slot</code>.
    </p>
    <hr>
    <h4 id="-zadanie--1">ğŸ› ğŸ”¥ Zadanie ğŸ› ğŸ”¥</h4>
    <ul>
      <li>W konstruktorze <code>MainWindow</code> dodaj <code>connect</code> Å‚Ä…czÄ…cy sygnaÅ‚ <code>clicked()</code>
        przycisku z przygotowanym wczeÅ›niej slotem.</li>
      <li>W slocie umieÅ›Ä‡ kod, ktÃ³ry w momencie wywoÅ‚ania zmieni zawartoÅ›Ä‡ tekstu elementu typu <code>QLabel</code> na
        <em>NEW TEXT AFTER CLICK</em>.
      </li>
    </ul>
    <hr>
    <h3 id="dodatkowe-informacje">Dodatkowe informacje</h3>
    <p>Jeden sygnaÅ‚ moÅ¼e wyzwalaÄ‡ wiele slotÃ³w i vice-versa - jeden slot moÅ¼e byÄ‡ wyzwalany przez wiele sygnaÅ‚Ã³w, z
      rÃ³Å¼nych obiektÃ³w. WiÄ™cej na temat sygnaÅ‚Ã³w i slotÃ³w moÅ¼na znaleÅºÄ‡ w opisie na <a
        href="https://doc.qt.io/qt-5/signalsandslots.html">podstronie projektu Qt</a>.</p>
    <h2 id="modalne-okna-dialogowe-i-komunikacja-z-wykorzystaniem-sygnaÅ‚Ã³w">Modalne okna dialogowe i komunikacja z
      wykorzystaniem sygnaÅ‚Ã³w</h2>
    <p>Modalne okna dialogowe to okna, ktÃ³re po wyÅ›wietleniu blokujÄ… dostÄ™p do okna gÅ‚Ã³wnego do czasu aÅ¼ nie zostanÄ…
      zamkniÄ™te. MogÄ… zostaÄ‡ wykorzystane do ustawiania parametrÃ³w konfiguracyjnych programu. Okna te, zazwyczaj
      dziedziczÄ… z klasy <code>QDialog</code> i zawierajÄ… przyciski OK i Anuluj.</p>
    <p>KaÅ¼de okno musi zostaÄ‡ utworzone jako oddzielna klasa. NajproÅ›ciej wykorzystaÄ‡ do tego wbudowany w Qt Creator
      kreator. W tym celu <em>File</em> â†’ <em>New File or Projectâ€¦</em>. W liÅ›cie <em>Files and Classes</em> wybierz
      kategoriÄ™ <em>Qt</em>, nastÄ™pnie <em>Qt Designer Form Class</em>. ZatwierdÅº wybÃ³r przyciskiem <em>Chooseâ€¦</em>:
    </p>
    <p><img class="black-and-white" src="img/02_new_qt_dialog.PNG" alt="02_new_qt_dialog"></p>
    <p>W nastÄ™pnym oknie wybieramy <em>Dialog with Buttons Bottom</em> i klikamy <em>Next</em>. W nastÄ™pnym oknie moÅ¼emy
      nadaÄ‡ nazwÄ™ tworzonemu oknu dialogowemu. Wystaczy wyedytowaÄ‡ pole <em>Class name</em> co spowoduje automatyczne
      wypeÅ‚nienie pozostaÅ‚ych pÃ³l. Zatwierdzamy klikajÄ…c <em>Next</em>, a nastÄ™pnie <em>Finish</em>. Do drzewa projektu
      zostanÄ… automatycznie dodane pliki <code>.ui</code>, <code>.cpp</code> i <code>.h</code>.</p>
    <hr>
    <h4 id="-zadanie--2">ğŸ› ğŸ”¥ Zadanie ğŸ› ğŸ”¥</h4>
    <ul>
      <li>
        <p>Do gÅ‚Ã³wnego okna programu :</p>
        <ul>
          <li>dodaj <code>QPushButton</code> z napisem <em>SETTINGS</em>, zmieÅ„ <code>objectName</code> na
            <code>settingsButton</code>,
          </li>
          <li>dodaj <code>QLabel</code> i wypeÅ‚nij dowolnym napisem, zmieÅ„ <code>objectName</code> na
            <code>descriptionLabel</code>.
          </li>
        </ul>
        <p><img class="black-and-white" src="img/03_widow_layout_with_settings.PNG" alt="03_widow_layout_with_settings">
        </p>
      </li>
      <li>
        <p>KorzystajÄ…c z kreatora dodaj do projektu klasÄ™ okna dialogowego o nazwie <code>SettingsDialog</code>:</p>
        <ul>
          <li>elementy w oknie dialogowym umieÅ›Ä‡ w <em>Form Layout</em>,</li>
          <li>dodaj <code>QLineEdit</code>, zmieÅ„ <code>objectName</code> na <code>descriptionTextEdit</code>,</li>
          <li>dodaj <code>QCheckBox</code>, zmieÅ„ <code>objectName</code> na <code>buttonEnabledCheckBox</code>.</li>
        </ul>
        <p><img class="black-and-white" src="img/04_setting_dialog_layout.PNG" alt="04_setting_dialog_layout">
        </p>
      </li>
      <li>
        <p>Do klasy gÅ‚Ã³wnego okna dodaj prywatny <code>slot</code>: <code>void open_settings()</code>, nastÄ™pnie za
          pomocÄ… mechanizmu <code>connect</code> poÅ‚Ä…cz wciÅ›niÄ™cie przycisku <code>settingsButton</code> z wywoÅ‚aniem
          <code>open_settings()</code>.
        </p>
      </li>
    </ul>
    <hr>
    <p>Aby mieÄ‡ moÅ¼liwoÅ›Ä‡ utworzenia okna dialogowego konieczne jest zaÅ‚Ä…czenie nagÅ‚Ã³wka klasy go opisujÄ…cego w pliku
      <code>mainwindow.cpp</code>, zaleÅ¼nie od nadanej nazwy klasy okna dialogowego, na przykÅ‚ad:
    </p>
    <div class="sourceCode" id="cb4">
      <pre
        class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb4-1"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">"settingsdialog.h"</span></span></code></pre>
    </div>
    <p>Otwarcie okna modalnego, blokujÄ…cego interfejs gÅ‚Ã³wnego okna, moÅ¼na wykonaÄ‡ w nastÄ™pujÄ…cy sposÃ³b:</p>
    <div class="sourceCode" id="cb5">
      <pre
        class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb5-1"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> MainWindow::open_settings()</span>
<span id="cb5-2"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb5-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb5-3"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb5-3" aria-hidden="true" tabindex="-1"></a>    SettingsDialog dialog; <span class="co">// utworzenie obiektu okna dialogowego</span></span>
<span id="cb5-4"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb5-5" aria-hidden="true" tabindex="-1"></a>    dialog.exec(); <span class="co">// uruchomienie/wyÅ›wietlenie okna; okno gÅ‚Ã³wne bÄ™dzie czekaÄ‡ na zamkniÄ™cie okna</span></span>
<span id="cb5-6"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb5-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre>
    </div>
    <hr>
    <h4 id="-zadanie--3">ğŸ› ğŸ”¥ Zadanie ğŸ› ğŸ”¥</h4>
    <ul>
      <li>Dodaj do programu mechanizm otwierania okna dialogowego.</li>
      <li>Przetestuj dziaÅ‚anie programu.</li>
    </ul>
    <hr>
    <p>Kolejnym krokiem koniecznym do realizacji okna ustawieÅ„ jest przekazanie do niego aktualnych wartoÅ›ci ustawieÅ„,
      tak aby zostaÅ‚y one zaprezentowane uÅ¼ytkownikowi. Istnieje wiele moÅ¼liwoÅ›ci realizacji takiej procedury.
      PrzykÅ‚adowo klasa <code>SettingsDialog</code> moÅ¼e posiadaÄ‡ publicznÄ… metodÄ™ sÅ‚uÅ¼Ä…cÄ… do przekazania wartoÅ›ci. InnÄ…
      opcjÄ… jest przekazanie tych wartoÅ›ci w konstruktorze klasy <code>SettingsDialog</code>.</p>
    <hr>
    <h4 id="-zadanie--4">ğŸ› ğŸ”¥ Zadanie ğŸ› ğŸ”¥</h4>
    <ul>
      <li>Wybierz metodÄ™ przekazania wartoÅ›ci z okna gÅ‚Ã³wnego do okna dialogowego (metoda publiczna klasy
        <code>SettingsDialog</code> lub modyfikacja konstruktora domyÅ›lnego <code>SettingsDialog</code>).
      </li>
      <li>Aby odczytaÄ‡ aktualny stan aktywnoÅ›ci przycisku skorzystaj z:</li>
    </ul>
    <div class="sourceCode" id="cb6">
      <pre
        class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb6-1"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb6-1" aria-hidden="true" tabindex="-1"></a>ui-&gt;pushButton-&gt;isEnabled() <span class="co">// typ bool</span></span></code></pre>
    </div>
    <ul>
      <li>Aby odczytaÄ‡ aktualny napis z <code>QLabel</code> skorzystaj z:</li>
    </ul>
    <div class="sourceCode" id="cb7">
      <pre
        class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb7-1"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb7-1" aria-hidden="true" tabindex="-1"></a>ui-&gt;descriptionLabel-&gt;text() <span class="co">// typ QString</span></span></code></pre>
    </div>
    <ul>
      <li>W konstruktorze lub publicznej metodzie klasy <code>SettingsDialog</code> skorzystaj z przekazanych informacji
        i zmieÅ„ ustawienia obiekty <code>QLineEdit</code> i <code>QCheckBox</code> tak aby odzwierciedlaÅ‚y wartoÅ›ci z
        okna gÅ‚Ã³wnego, na przykÅ‚ad:</li>
    </ul>
    <div class="sourceCode" id="cb8">
      <pre
        class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb8-1"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb8-1" aria-hidden="true" tabindex="-1"></a>ui-&gt;buttonEnabledCheckBox-&gt;setChecked(button_enabled);</span>
<span id="cb8-2"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb8-2" aria-hidden="true" tabindex="-1"></a>ui-&gt;descriptionTextEdit-&gt;setText(description_text);</span></code></pre>
    </div>
    <hr>
    <p>JednÄ… z opcji na przechwycenie zamykania okna jest skorzystanie z domyÅ›lnie umieszczonych na nich przyciskÃ³w
      <em>OK</em> i <em>Cancel</em>. JeÅ¼eli tworzÄ…c okno dialogowe w kreatorze jako <em>Dialog with Buttons Bottom</em>,
      to Qt Designer automatycznie dodaÅ‚ do okna obiekt typu <code>QDialogButtonBox</code> o <code>objectName</code>
      rÃ³wnej <code>buttonBox</code>. Obiekty typu <code>QDialogButtonBox</code> emitujÄ… sygnaÅ‚
      <code>QDialogButtonBox::accepted()</code> po wciÅ›niÄ™ciu przycisku <em>OK</em>.
    </p>
    <hr>
    <h4 id="-zadanie--5">ğŸ› ğŸ”¥ Zadanie ğŸ› ğŸ”¥</h4>
    <ul>
      <li>W klasie <code>SettingsDialog</code> dodaj prywatny slot <code>void  buttonBoxClicked()</code> ktÃ³ry posÅ‚uÅ¼y
        do przechwycenia wciÅ›niÄ™cia przycisku <em>OK</em>.</li>
      <li>W konstruktorze <code>SettingsDialog</code> wykonaÅ‚ poÅ‚Ä…czenie sygnaÅ‚u <code>accepted</code> z nowoutworzonym
        slotem:</li>
    </ul>
    <div class="sourceCode" id="cb9">
      <pre
        class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb9-1"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">connect</span>(ui-&gt;buttonBox, &amp;<span class="ex">QDialogButtonBox::</span>accepted, <span class="kw">this</span>, &amp;SettingsDialog::buttonBoxClicked);</span></code></pre>
    </div>
    <hr>
    <p>Na ten moment, po wciÅ›niÄ™ciu <em>OK</em> okno dialogowe zostanie zamkniÄ™te, natomiast zmodyfikowanie wartoÅ›ci
      elementÃ³w w oknie ustawieÅ„ nie wpÅ‚ynie na okno gÅ‚Ã³wne, ustawienia nie zostaÅ‚y jeszcze przekazane do
      <code>MainWindow</code>. JednÄ… z opcji do przekazania zmiennych pomiÄ™dzy klasami (w tym przypadku z
      <code>SettingsDialog</code> do <code>MainWindow</code>) jest takÅ¼e skorzystanie z sygnaÅ‚Ã³w. Klasa
      <code>SettingsDialog</code> powinna emitowaÄ‡ sygnaÅ‚ zawierajÄ…cy parametry poszczegÃ³lnych obiektÃ³w na formularzu,
      ktÃ³re potem mogÄ… zostaÄ‡ przechwycone. W Qt kaÅ¼dy obiekt dziedziczÄ…cy po <code>QObject</code> moÅ¼e emitowaÄ‡ sygnaÅ‚y
      za pomocÄ… sÅ‚owa kluczowego <code>emit</code>. W tym celu w deklaracji klasy umieszczamy dyrektywÄ™
      <code>signals:</code>, a zaraz pod niÄ… deklaracjÄ™ sygnaÅ‚u wraz z parametrami ktÃ³re mogÄ… byÄ‡ za jego pomocÄ…
      przekazane, na przykÅ‚ad:
    </p>
    <div class="sourceCode" id="cb10">
      <pre
        class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb10-1"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> SettingsDialog : <span class="kw">public</span> <span class="ex">QDialog</span></span>
<span id="cb10-2"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb10-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb10-3"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">/****/</span></span>
<span id="cb10-4"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="ex">signals</span>:</span>
<span id="cb10-6"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> changesAccepted(<span class="dt">bool</span> button_enabled, <span class="ex">QString</span> description_text);</span>
<span id="cb10-7"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">/****/</span></span>
<span id="cb10-9"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb10-9" aria-hidden="true" tabindex="-1"></a>};</span></code></pre>
    </div>
    <hr>
    <h4 id="-zadanie--6">ğŸ› ğŸ”¥ Zadanie ğŸ› ğŸ”¥</h4>
    <ul>
      <li>Do klasy <code>SettingsDialog</code> dodaj sygnaÅ‚:</li>
    </ul>
    <div class="sourceCode" id="cb11">
      <pre
        class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb11-1"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> changesAccepted(<span class="dt">bool</span> button_enabled, <span class="ex">QString</span> description_text);</span></code></pre>
    </div>
    <ul>
      <li>WewnÄ…trz metody <code>SettingsDialog::buttonBoxClicked()</code> (wywoÅ‚anej po klikniÄ™ciu przycisku
        <em>OK</em>) umieÅ›Ä‡ emisjÄ™ sygnaÅ‚u <code>changesAccepted</code> z odpowiednimi parametrami:
      </li>
    </ul>
    <div class="sourceCode" id="cb12">
      <pre
        class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb12-1"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> SettingsDialog::buttonBoxClicked()</span>
<span id="cb12-2"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb12-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb12-3"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="ex">emit</span> changesAccepted(ui-&gt;buttonEnabledCheckBox-&gt;isChecked(), ui-&gt;descriptionTextEdit-&gt;text());</span>
<span id="cb12-4"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb12-4" aria-hidden="true" tabindex="-1"></a>}</span></code></pre>
    </div>
    <hr>
    <p>Ostatnim krokiem jest przechwycenie sygnaÅ‚u w oknie gÅ‚Ã³wnym, w tym celu w klasie <code>MainWindow</code>
      konieczne jest utworzenie prywatnego slotu, ktÃ³ry zostanie poÅ‚Ä…czony z sygnaÅ‚em wyemitowanym przez
      <code>SettingsDialog</code>, a nastÄ™pnie odpowiednio obsÅ‚uÅ¼ony. Konieczne jest, aby slot posiadaÅ‚ listÄ™ parametrÃ³w
      odpowiadajÄ…cych Å‚Ä…czonemu do niego sygnaÅ‚owi. WaÅ¼na jest kolejnoÅ›Ä‡ oraz typ parametrÃ³w, nazwy argumentÃ³w mogÄ… byÄ‡
      dowolne.
    </p>
    <hr>
    <h4 id="-zadanie--7">ğŸ› ğŸ”¥ Zadanie ğŸ› ğŸ”¥</h4>
    <ul>
      <li>W klasie <code>MainWindow</code> dodaj deklaracjÄ™ i implementacjÄ™ prywatnego slotu, z odpowiednimi
        parametrami. W implementacji wykonaj zmiany elementÃ³w interfejsu na podstawie otrzymanych w slocie argumentÃ³w:
      </li>
    </ul>
    <div class="sourceCode" id="cb13">
      <pre
        class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb13-1"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">//mainwindow.h</span></span>
<span id="cb13-2"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="kw">private</span> <span class="ex">slots</span>:</span>
<span id="cb13-3"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">void</span> changeValues(<span class="dt">bool</span> button_enabled, <span class="ex">QString</span> description_text);</span></code></pre>
    </div>
    <div class="sourceCode" id="cb14">
      <pre
        class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb14-1"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">//mainwindow.cpp</span></span>
<span id="cb14-2"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> MainWindow::changeValues(<span class="dt">bool</span> button_enabled, <span class="ex">QString</span> description_text)</span>
<span id="cb14-3"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb14-3" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb14-4"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb14-4" aria-hidden="true" tabindex="-1"></a>    ui-&gt;pushButton-&gt;setEnabled(button_enabled);</span>
<span id="cb14-5"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb14-5" aria-hidden="true" tabindex="-1"></a>    ui-&gt;descriptionLabel-&gt;setText(description_text);</span>
<span id="cb14-6"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb14-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre>
    </div>
    <ul>
      <li>W slocie <code>MainWindow::open_settings()</code> po utworzeniu obiektu okna dialogowego, a przed jego
        wykonaniem, dodaj <code>connect</code> Å‚Ä…czÄ…cy sygnaÅ‚ z <code>SettingsDialog</code> do nowoutworzonego slotu w
        <code>MainWindow</code>:
      </li>
    </ul>
    <div class="sourceCode" id="cb15">
      <pre
        class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb15-1"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> MainWindow::open_settings()</span>
<span id="cb15-2"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb15-2" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb15-3"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb15-3" aria-hidden="true" tabindex="-1"></a>    SettingsDialog dialog(ui-&gt;pushButton-&gt;isEnabled(), ui-&gt;descriptionLabel-&gt;text());</span>
<span id="cb15-4"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">connect</span>(&amp;dialog, &amp;SettingsDialog::changesAccepted, <span class="kw">this</span>, &amp;MainWindow::changeValues);</span>
<span id="cb15-6"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb15-7" aria-hidden="true" tabindex="-1"></a>    dialog.exec();</span>
<span id="cb15-8"><a href="http://jug.put.poznan.pl/lab-psio/Lab%2014%20-%20Qt%20-%20sygnaly%20i%20sloty.html#cb15-8" aria-hidden="true" tabindex="-1"></a>}</span></code></pre>
    </div>
    <ul>
      <li>Przetestuj mechanizm zmian ustawieÅ„ swojego programu.</li>
    </ul>
    <hr>
    <h2 id="qmenu-i-qaction">QMenu i QAction</h2>
    <p>Do klas dziedziczÄ…cych z <code>QMainWindow</code> (zazwyczaj opisujÄ…cych gÅ‚Ã³wne okno programu) standardowo
      przypisane jest menu uÅ¼ytkownika (<code>QMenu</code>), oraz pasek narzÄ™dzi. StrukturÄ™ menu oraz pasek narzÄ™dzi
      moÅ¼na stworzyÄ‡ z poziomu programu Qt Designer:</p>
    <p><img class="black-and-white" src="img/05_menu_edit.PNG" alt="05_menu_edit"></p>
    <hr>
    <h4 id="-zadanie--8">ğŸ› ğŸ”¥ Zadanie ğŸ› ğŸ”¥</h4>
    <ul>
      <li>Dodaj do programu menu <strong>Tools</strong> z wpisem <strong>Settings</strong></li>
    </ul>
    <hr>
    <p>Dodawanie poszczegÃ³lnych wpisÃ³w w <code>QMenu</code> powoduje automatyczne tworzenie obiektÃ³w
      <code>QAction</code> o automatycznie nadanych nazwach:
    </p>
    <p><img class="black-and-white" src="img/06_action_menu.PNG" alt="06_action_menu"></p>
    <p>W Å‚atwy sposÃ³b moÅ¼na przypisaÄ‡ ikonÄ™ do <code>QAction</code>. W tym celu zaznaczamy <code>QAction</code> do
      edycji i modyfikujemy pole <em>icon</em> poprzez wybranie <em>Choose File...</em>. NaleÅ¼y pamiÄ™taÄ‡, Å¼e korzystajÄ…c
      z zewnÄ™trznego pliku nie zostanie on doÅ‚Ä…czony do pliku binarnego <code>.exe</code>, dlatego plik musi siÄ™ znaleÅºÄ‡
      w folderze w ktÃ³rym wykonuje siÄ™ nasz program. W przypadku Qt Creator jest to <strong>build</strong> folder dla
      danego projektu. W razie wÄ…tpliwoÅ›ci poproÅ› prowadzÄ…cego o pomoc.</p>
    <p><img class="black-and-white" src="img/07_action_icon.PNG" alt="07_action_icon"></p>
    <p>Istnieje takÅ¼e moÅ¼liwoÅ›Ä‡ w Å‚atwy sposÃ³b zdefiniowania skrÃ³tu klawiszowego, ktÃ³rego wciÅ›niÄ™cie spowoduje tÄ™ samÄ…
      akcjÄ™ co klikniÄ™cie danego wpisu w menu. W tym celu edytujemy pole <em>shortcut</em>.</p>
    <p><img class="black-and-white" src="img/08_action_shortcut.PNG" alt="08_action_shortcut"></p>
    <p>KlikniÄ™cie wpisu w menu (a takÅ¼e wciÅ›niÄ™cie skrÃ³tu klawiszowego) powoduje wyemitowanie sygnaÅ‚u
      <code>QAction::triggered</code>, ktÃ³ry moÅ¼na poÅ‚Ä…czyÄ‡ ze slotem korzystajÄ…c z <code>connect</code>.
    </p>
    <hr>
    <h4 id="-zadanie--9">ğŸ› ğŸ”¥ Zadanie ğŸ› ğŸ”¥</h4>
    <ul>
      <li>
        <p>Dla obiektu <code>acctionSettings</code>:</p>
        <ul>
          <li>dodaj ikonÄ™: <a href="http://jug.put.poznan.pl/lab-psio/_resources/14/settings.png">settings.png</a>
            (pamiÄ™taj aby umieÅ›ciÄ‡ obrazem w folderze budowy programu),</li>
          <li>dodaj skrÃ³t klawiszowy <em>Ctrl + S</em>.</li>
        </ul>
        <p><img class="black-and-white" src="img/09_settings_icon_shortcut.PNG" alt="09_settings_icon_shortcut"></p>
      </li>
      <li>
        <p>W konstruktorze <code>MainWindow</code> wykonaj poÅ‚Ä…czenie sygnaÅ‚u <code>QAction::triggered</code> z
          <code>acctionSettings</code> do slotu <code>MainWindow::open_settings</code>.
        </p>
      </li>
      <li>
        <p>Przetestuj rÃ³Å¼ne metody otwierania okienka z ustawieniami.</p>
      </li>
    </ul>
    <hr>
    <!---
## Dynamiczne tworzenie okien

Okna moÅ¼na tworzyÄ‡ z uÅ¼yciem programu Qt Creator jak i bezpoÅ›rednio w kodzie przydzielajÄ…c dynamicznie pamiÄ™Ä‡ dla wszystkich komponentÃ³w okna.

Qt posiada wÅ‚asny mechanizm zarzÄ…dzania pamiÄ™ciÄ…, w ktÃ³rym kaÅ¼dy obiekt dziedziczÄ…cy z klasy `QObject` przechowuje adres rodzica (obiektu nadrzÄ™dnego). JeÅ›li w programie nastÄ™puje zwolnienie pamiÄ™ci dla rodzica automatycznie zwalniana jest rÃ³wnieÅ¼ pamiÄ™Ä‡ dla wszystkich obiektÃ³w podrzÄ™dnych.

WiÄ™cej na ten temat moÅ¼na znaleÅºÄ‡ w tutorialu pokazujÄ…cym jak w Qt stworzyÄ‡ wirtualnÄ… klawiaturÄ™: http://youtu.be/UVg28aVpBXI oraz w prezentacji: https://drive.google.com/open?id=0B6pDGeM8qbzwbWJ4bzljVlpaMHc

Dowiesz siÄ™ tam jak:

* tworzyÄ‡ elementy okien z poziomu kodu programu,
* wykorzystywaÄ‡ layouty.

**Uwaga:** zignoruj informacje na temat Å‚Ä…czenia sygnaÅ‚Ã³w w starszy sposÃ³b oraz wykorzystanie klasy `QSignalMapper`, ktÃ³rej uÅ¼ycie nie jest juÅ¼ zalecane. MoÅ¼na jÄ… zastÄ…piÄ‡ na przykÅ‚ad przekazaniem do funkcji `connect` funkcji lambda. PrzykÅ‚ad takiego wywoÅ‚ania pochodzÄ…cy z [dokumentacji wspomnianej klasy](https://doc.qt.io/qt-5/qsignalmapper.html#details):

```cpp
ButtonWidget::ButtonWidget(const QStringList &texts, QWidget *parent)
    : QWidget(parent) {
    QGridLayout *gridLayout = new QGridLayout;
    for (int i = 0; i < texts.size(); ++i) {
        QString text = texts[i];
        QPushButton *button = new QPushButton(text);
        connect(button, &QPushButton::clicked, [=] { clicked(text); });
        gridLayout->addWidget(button, i / 3, i % 3);
    }
    setLayout(gridLayout);
}
```

W powyÅ¼szym przykÅ‚adzie slot `clicked` jest wywoÅ‚ywany z argumentem `text`.
-->

    <h2 id="zadanie-koÅ„cowe-">Zadanie koÅ„cowe ğŸ› ğŸ”¥</h2>
    <h4 id="edytor-tekstu">Edytor tekstu</h4>
    <p>WykorzystujÄ…c Qt napisz prosty edytor tekstu.</p>
    <p>Edytor powinien pozwalaÄ‡ na:</p>
    <ul>
      <li>utworzenie nowego dokumentu</li>
      <li>otwarcie pliku</li>
      <li>nadpisanie pliku</li>
      <li>zapisanie pliku jako nowy</li>
    </ul>
    <p>Dodaj odpowiednie widgety do okienka i akcje do menu <em>File</em>.</p>
    <p>Qt poza elementami interfejsu graficznego posiada takÅ¼e szereg obiektÃ³w/narzÄ™dzi ktÃ³re pozwalajÄ… na tworzenie
      multi-platformowych programÃ³w. PrzykÅ‚adowo, Wykorzystanie Qt uniezaleÅ¼nia od systemu operacyjnego obsÅ‚ugÄ™ okien
      otwierania/zapisywania plikÃ³w, czy obsÅ‚ugÄ™ Å›cieÅ¼ek systemu plikÃ³w.</p>
    <p>Do wskazania plikÃ³w wykorzystaj klasÄ™ <a href="https://doc.qt.io/qt-5/qfiledialog.html">QFileDialog</a>.</p>
    <p>Wczytaj caÅ‚Ä… zawartoÅ›Ä‡ otwartego pliku do okienka tekstowego (do operacji na plikach sÅ‚uÅ¼y klasa <a
        href="https://doc.qt.io/qt-5/qfile.html">QFile</a>).</p>
    <p>UmoÅ¼liw nadpisanie pliku (zapisanie pod tÄ… samÄ… Å›cieÅ¼kÄ…) lub zapisanie jako nowy plik.</p>
    <p>NastÄ™pnie dodaj do programu funkcjonalnoÅ›Ä‡ <em>Find and replace</em>. UtwÃ³rz klasÄ™ okienka (<em>File</em> â†’
      <em>New File or Project</em> â†’ <em>Qt</em> â†’ <em>Qt Designer Form Class</em> â†’ <em>Widget</em>), w ktÃ³rym bÄ™dziesz
      mÃ³gÅ‚ wprowadziÄ‡ dwa ciÄ…gi znakÃ³w (ÅºrÃ³dÅ‚owy i docelowy) oraz dwa przyciski: <em>Replace</em> i <em>Replace
        all</em>.
    </p>
    <p>Dodaj menu <em>Edit</em>, a w nim akcjÄ™ <em>Find and replace</em>.</p>
    <p>PoÅ‚Ä…cz ich sygnaÅ‚y ze slotami w gÅ‚Ã³wnym okienku i zaimplementuj wymaganÄ… funkcjonalnoÅ›Ä‡.</p>
    <p>MoÅ¼esz wspomagaÄ‡ siÄ™ tutorialem <a
        href="https://doc.qt.io/qt-5/qtwidgets-mainwindows-application-example.html">Application Example</a>.</p>
    <hr>
    <p>Autorzy: <em>Tomasz MaÅ„kowski</em>, <em>Jakub TomczyÅ„ski</em>, <em>Dominik PieczyÅ„ski</em></p>
  </main>


</body>

</html>